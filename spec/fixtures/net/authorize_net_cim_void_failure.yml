--- 
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://apitest.authorize.net:443/xml/v1/request.api
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <createCustomerProfileRequest xmlns="AnetApi/xml/v1/schema/AnetApiSchema.xsd">
        <merchantAuthentication>
          <name>LOGIN</name>
          <transactionKey>2Rsb3965z97ZgAWa</transactionKey>
        </merchantAuthentication>
        <profile>
          <email>antonia.cronin@dickinson.co.uk</email>
        </profile>
      </createCustomerProfileRequest>

    headers: 
      connection: 
      - close
      content-type: 
      - text/xml
      user-agent: 
      - vaulted_billing 0.0.0
      content-length: 
      - "361"
      host: 
      - apitest.authorize.net
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      x-powered-by: 
      - ASP.NET
      x-aspnet-version: 
      - 2.0.50727
      content-type: 
      - text/xml; charset=utf-8
      connection: 
      - close
      date: 
      - Fri, 20 Aug 2010 21:32:47 GMT
      server: 
      - Microsoft-IIS/5.0
      content-length: 
      - "504"
      cache-control: 
      - private
    body: "\xEF\xBB\xBF<?xml version=\"1.0\" encoding=\"utf-8\"?><createCustomerProfileResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"><messages><resultCode>Ok</resultCode><message><code>I00001</code><text>Successful.</text></message></messages><customerProfileId>2091298</customerProfileId><customerPaymentProfileIdList /><customerShippingAddressIdList /><validationDirectResponseList /></createCustomerProfileResponse>"
    http_version: "1.1"
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://apitest.authorize.net:443/xml/v1/request.api
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <createCustomerPaymentProfileRequest xmlns="AnetApi/xml/v1/schema/AnetApiSchema.xsd">
        <merchantAuthentication>
          <name>LOGIN</name>
          <transactionKey>2Rsb3965z97ZgAWa</transactionKey>
        </merchantAuthentication>
        <customerProfileId>2091298</customerProfileId>
        <paymentProfile>
          <billTo>
            <firstName>Gregorio</firstName>
            <lastName>Koss</lastName>
            <address>31720 Porter Hills</address>
            <city>North Daniella</city>
            <state>Oregon</state>
            <zip>78197-1240</zip>
            <country>US</country>
            <phoneNumber>1-761-986-9379 x1240</phoneNumber>
          </billTo>
          <payment>
            <creditCard>
              <cardNumber>5561825156630626</cardNumber>
              <expirationDate>2011-08</expirationDate>
            </creditCard>
          </payment>
        </paymentProfile>
      </createCustomerPaymentProfileRequest>

    headers: 
      connection: 
      - close
      content-type: 
      - text/xml
      user-agent: 
      - vaulted_billing 0.0.0
      content-length: 
      - "868"
      host: 
      - apitest.authorize.net
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      x-powered-by: 
      - ASP.NET
      x-aspnet-version: 
      - 2.0.50727
      content-type: 
      - text/xml; charset=utf-8
      connection: 
      - close
      date: 
      - Fri, 20 Aug 2010 21:32:47 GMT
      server: 
      - Microsoft-IIS/5.0
      content-length: 
      - "435"
      cache-control: 
      - private
    body: "\xEF\xBB\xBF<?xml version=\"1.0\" encoding=\"utf-8\"?><createCustomerPaymentProfileResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"><messages><resultCode>Ok</resultCode><message><code>I00001</code><text>Successful.</text></message></messages><customerPaymentProfileId>1831877</customerPaymentProfileId></createCustomerPaymentProfileResponse>"
    http_version: "1.1"
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://apitest.authorize.net:443/xml/v1/request.api
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <createCustomerProfileTransactionRequest xmlns="AnetApi/xml/v1/schema/AnetApiSchema.xsd">
        <merchantAuthentication>
          <name>LOGIN</name>
          <transactionKey>2Rsb3965z97ZgAWa</transactionKey>
        </merchantAuthentication>
        <transaction>
          <profileTransAuthOnly>
            <amount>10.0</amount>
            <customerProfileId>2091298</customerProfileId>
            <customerPaymentProfileId>1831877</customerPaymentProfileId>
          </profileTransAuthOnly>
        </transaction>
      </createCustomerProfileTransactionRequest>

    headers: 
      connection: 
      - close
      content-type: 
      - text/xml
      user-agent: 
      - vaulted_billing 0.0.0
      content-length: 
      - "544"
      host: 
      - apitest.authorize.net
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      x-powered-by: 
      - ASP.NET
      x-aspnet-version: 
      - 2.0.50727
      content-type: 
      - text/xml; charset=utf-8
      connection: 
      - close
      date: 
      - Fri, 20 Aug 2010 21:32:48 GMT
      server: 
      - Microsoft-IIS/5.0
      content-length: 
      - "717"
      cache-control: 
      - private
    body: "\xEF\xBB\xBF<?xml version=\"1.0\" encoding=\"utf-8\"?><createCustomerProfileTransactionResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"><messages><resultCode>Ok</resultCode><message><code>I00001</code><text>Successful.</text></message></messages><directResponse>1,1,1,This transaction has been approved.,5YKRKF,Y,2154097004,,,10.00,CC,auth_only,,Gregorio,Koss,,31720 Porter Hills,North Daniella,Oregon,78197-1240,US,1-761-986-9379 x1240,,antonia.cronin@dickinson.co.uk,,,,,,,,,,,,,,5998A845298EA1E6D5F747A7FA469822,,2,,,,,,,,,,,XXXX0626,MasterCard,,,,,,,,,,,,,,,,</directResponse></createCustomerProfileTransactionResponse>"
    http_version: "1.1"
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://apitest.authorize.net:443/xml/v1/request.api
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <createCustomerProfileTransactionRequest xmlns="AnetApi/xml/v1/schema/AnetApiSchema.xsd">
        <merchantAuthentication>
          <name>LOGIN</name>
          <transactionKey>2Rsb3965z97ZgAWa</transactionKey>
        </merchantAuthentication>
        <transaction>
          <profileTransPriorAuthCapture>
            <amount>10.0</amount>
            <transId>2154097004</transId>
          </profileTransPriorAuthCapture>
        </transaction>
      </createCustomerProfileTransactionRequest>

    headers: 
      connection: 
      - close
      content-type: 
      - text/xml
      user-agent: 
      - vaulted_billing 0.0.0
      content-length: 
      - "476"
      host: 
      - apitest.authorize.net
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      x-powered-by: 
      - ASP.NET
      x-aspnet-version: 
      - 2.0.50727
      content-type: 
      - text/xml; charset=utf-8
      connection: 
      - close
      date: 
      - Fri, 20 Aug 2010 21:32:50 GMT
      server: 
      - Microsoft-IIS/5.0
      content-length: 
      - "623"
      cache-control: 
      - private
    body: "\xEF\xBB\xBF<?xml version=\"1.0\" encoding=\"utf-8\"?><createCustomerProfileTransactionResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"><messages><resultCode>Ok</resultCode><message><code>I00001</code><text>Successful.</text></message></messages><directResponse>1,1,1,This transaction has been approved.,5YKRKF,P,2154097004,,,10.00,CC,prior_auth_capture,,,,,,,,78197-1240,,,,,,,,,,,,,,,,,,5998A845298EA1E6D5F747A7FA469822,,,,,,,,,,,,,XXXX0626,MasterCard,,,,,,,,,,,,,,,,</directResponse></createCustomerProfileTransactionResponse>"
    http_version: "1.1"
- !ruby/struct:VCR::HTTPInteraction 
  request: !ruby/struct:VCR::Request 
    method: :post
    uri: https://apitest.authorize.net:443/xml/v1/request.api
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <createCustomerProfileTransactionRequest xmlns="AnetApi/xml/v1/schema/AnetApiSchema.xsd">
        <merchantAuthentication>
          <name>LOGIN</name>
          <transactionKey>2Rsb3965z97ZgAWa</transactionKey>
        </merchantAuthentication>
        <transaction>
          <profileTransVoid>
            <transId>2154097004</transId>
          </profileTransVoid>
        </transaction>
      </createCustomerProfileTransactionRequest>

    headers: 
      connection: 
      - close
      content-type: 
      - text/xml
      user-agent: 
      - vaulted_billing 0.0.0
      content-length: 
      - "424"
      host: 
      - apitest.authorize.net
  response: !ruby/struct:VCR::Response 
    status: !ruby/struct:VCR::ResponseStatus 
      code: 200
      message: OK
    headers: 
      x-powered-by: 
      - ASP.NET
      x-aspnet-version: 
      - 2.0.50727
      content-type: 
      - text/xml; charset=utf-8
      connection: 
      - close
      date: 
      - Fri, 20 Aug 2010 21:32:51 GMT
      server: 
      - Microsoft-IIS/5.0
      content-length: 
      - "608"
      cache-control: 
      - private
    body: "\xEF\xBB\xBF<?xml version=\"1.0\" encoding=\"utf-8\"?><createCustomerProfileTransactionResponse xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"AnetApi/xml/v1/schema/AnetApiSchema.xsd\"><messages><resultCode>Ok</resultCode><message><code>I00001</code><text>Successful.</text></message></messages><directResponse>1,1,1,This transaction has been approved.,5YKRKF,P,2154097004,,,0.00,CC,void,,,,,,,,78197-1240,,,,,,,,,,,,,,,,,,BB914F4B84A37786F84AF8A93784D24C,,,,,,,,,,,,,XXXX0626,MasterCard,,,,,,,,,,,,,,,,</directResponse></createCustomerProfileTransactionResponse>"
    http_version: "1.1"
